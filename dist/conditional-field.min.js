"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var i=0,n=Array(t.length);i<t.length;i++)n[i]=t[i];return n}return Array.from(t)}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),ConditionalField=function(){function t(i){_classCallCheck(this,t),this.$control=$(i.control),0!=this.$control.length&&(this.args=i,this.inputType=this.getInputType(),this.setVisible(this.inputValue()),this.onChangeBound=this.onChange.bind(this),this.$control.on("change",this.onChangeBound))}return _createClass(t,[{key:"onChange",value:function(t){var i=this.inputValue();this.setVisible(i)}},{key:"setVisible",value:function(t){var i=[];for(var n in this.args.visibility){var e=Array.isArray(this.args.visibility[n])?this.args.visibility[n]:[this.args.visibility[n]];if(t===n)i=[].concat(_toConsumableArray(i),_toConsumableArray(e)),$(e.join(",")).show();else{if(0===i.length){$(e.join(",")).hide();continue}var r=e.filter(function(t){return i.indexOf(t)===-1});$(r.join(",")).hide()}}}},{key:"getInputType",value:function(){return this.$control.is("select")?"select":this.$control.is(":radio")?"radio":this.$control.is(":checkbox")?"checkbox":void 0}},{key:"inputValue",value:function(){var t="";switch(this.inputType){case"checkbox":t=this.$control.is(":checked")?"on":"off";break;case"radio":t=this.$control.filter(":checked").val();break;default:t=this.$control.val()}return t}},{key:"destroy",value:function(){this.$control.off("change",this.onChangeBound)}}]),t}();